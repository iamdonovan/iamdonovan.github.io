

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>introduction to google earth engine &#8212; space cameras and glaciers</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" href="../../../_static/customstyle.css" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'teaching/egm702/practicals/week3';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="change detection in earth engine" href="week4.html" />
    <link rel="prev" title="dem differencing" href="week2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">space cameras and glaciers</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../whataboutbob.html">about me</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../index.html">teaching</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../egm101/index.html">EGM101: skills toolbox</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../egm101/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm101/practicals/index.html">practicals</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm101/practicals/week5.html">computation, summary statistics, and graphing in excel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm101/practicals/week6.html">summarizing and graphing data in spss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm101/practicals/week7.html">correlation and regression in spss</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm101/practicals/week8.html">hypothesis testing using spss</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../egm101/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../egm310/index.html">EGM310: introduction to gis and remote sensing</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../egm310/lectures.html">lectures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../egm310/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../index.html">EGM702: photogrammetry and advanced image analysis</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../lectures.html">lectures</a></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="index.html">practicals</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="setup.html">software setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="week1.html">dem processing using micmac</a></li>
<li class="toctree-l4"><a class="reference internal" href="week2.html">dem differencing</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">introduction to google earth engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="week4.html">change detection in earth engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="week5.html">classification in earth engine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../egm703/index.html">EGM703: advanced active and passive remote sensing</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../egm703/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm703/practicals/index.html">practicals</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm703/practicals/week1.html">urban heat islands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm703/practicals/week2.html">hyperspectral image analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm703/practicals/week3.html">SAR image processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm703/practicals/week4.html">InSAR Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm703/practicals/week5.html">SAR image interpretation and flood mapping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../egm703/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../egm722/index.html">EGM722: programming for gis and remote sensing</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm722/setup/index.html">setup</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/github.html">setting up github</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/git.html">installing git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/desktop.html">installing github desktop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/fork.html">forking the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/clone.html">cloning the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/conda.html">setting up conda/anaconda</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/environment.html">setting up a conda environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/jupyter.html">configuring jupyter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/pycharm.html">pycharm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/setup/pip.html">installing packages with pip</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../egm722/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm722/practicals/index.html">practicals</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/pythonintro.html">intro to python</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/debugging.html">debugging exercise</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/cartopy.html">mapping with cartopy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/conflicts.html">conflict resolution (using git)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/vector.html">vector data using shapely and geopandas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/folium.html">interactive maps with folium</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/raster.html">raster data using rasterio</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/earthaccess.html">searching + downloading satellite data using earthaccess</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/zonalstats.html">zonal statistics using rasterstats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/practicals/geopandas.html">more fun with geopandas</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm722/faq/index.html">help! something went wrong!</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/faq/git.html">git troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/faq/python.html">python troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../egm722/project/index.html">programming project</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/project/github.html">creating a new github repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../egm722/project/environment.html">environment.yml</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../egm722/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../unis/index.html">unis glaciology (AG-325)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../unis/optical.html">mapping glacier area change</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../unis/dems.html">dem differencing and geodetic mass balance</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../python-programming/index.html">programming skills for phd researchers (using python)</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../python-programming/setup/index.html">setup</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/github.html">setting up github</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/git.html">installing git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/desktop.html">installing github desktop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/fork.html">forking the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/clone.html">cloning the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/conda.html">setting up conda/anaconda</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/environment.html">setting up a conda environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/jupyter.html">configuring the jupyterlab terminal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/setup/pycharm.html">pycharm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python-programming/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../python-programming/exercises/index.html">exercises</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/git.html">introduction to version control using git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/project.html">starting a new project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/intro.html">introduction to python using jupyterlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/debugging.html">debugging code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/plotting.html">plotting data using seaborn</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/pandas.html">working with pandas dataframes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/stats.html">basic statistical analysis using python</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../python-programming/exercises/regression.html">linear regression using python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../python-programming/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../r-programming/index.html">programming skills for phd researchers (using R)</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../r-programming/setup/index.html">setup</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/github.html">setting up github</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/git.html">installing git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/desktop.html">installing github desktop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/fork.html">forking the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/clone.html">cloning the repository</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/conda.html">setting up conda/anaconda</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/environment.html">setting up a conda environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/setup/jupyter.html">configuring jupyterlab</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../r-programming/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../r-programming/exercises/index.html">exercises</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/git.html">introduction to version control using git</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/project.html">starting a new project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/rintro.html">introduction to <strong>R</strong> using jupyterlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/debugging.html">debugging code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/plotting.html">plotting data using ggplot2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/transform.html">transforming data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/stats.html">basic statistical analysis using <strong>R</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../r-programming/exercises/regression.html">linear regression using <strong>R</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../r-programming/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ml-crash-course/index.html">a crash course in machine learning (using python) – under development</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ml-crash-course/setup.html">setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ml-crash-course/lectures.html">lectures</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../ml-crash-course/exercises/index.html">exercises</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../ml-crash-course/exercises/regression.html">what is machine learning?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ml-crash-course/exercises/training_testing.html">training, testing, and validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ml-crash-course/exercises/feature_design.html">feature design and engineering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../ml-crash-course/exercises/performance.html">measuring model performance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ml-crash-course/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../hpc-intro/index.html">introduction to high performance computing</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../hpc-intro/setup.html">setup</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../hpc-intro/shell/index.html">the unix shell</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/shell/shell.html">in the beginning was the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/shell/navigation.html">navigating on the command line</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/shell/files.html">working with files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/shell/input.html">input/output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/shell/scripts.html">shell scripts</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../hpc-intro/hpc/index.html">high performance computing</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/hpc/atlas.html">atlas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/hpc/data_transfer.html">transferring data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../hpc-intro/hpc/vulcan.html">vulcan</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../hpc-intro/resources.html">additional resources</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../dissertation/index.html">undergraduate dissertation projects</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/glaciers.html">mapping glacier changes over time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/glacial_lakes.html">detection of supraglacial lakes and timing of drainage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/algae.html">mapping harmful algal blooms using satellite remote sensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/floods.html">flood detection and monitoring using remote sensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/wildfires.html">detection and mapping of wildfires</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dissertation/heat_islands.html">urban heat islands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../gee/index.html">google earth engine</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../gee/tutorials/index.html">gee tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../gee/tutorials/getting_started/index.html">getting started</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/adding_exporting.html">adding and exporting images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/spectral.html">spectral signatures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/image_collections.html">image collections and vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/mapping.html">manual mapping (digitizing)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/band_maths.html">band maths</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/getting_started/zonal_stats.html">zonal statistics</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../gee/tutorials/classification/index.html">image classification</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-30"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/classification/unsupervised.html">unsupervised classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/classification/pixel.html">pixel-based classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/classification/obia.html">object-based classification</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../gee/tutorials/change_detection/index.html">change detection</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-31"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/change_detection/visual_analysis.html">visual analysis of changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/change_detection/thresholding.html">band maths and thresholding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/change_detection/repeat_classification.html">repeat classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/change_detection/cva.html">change vector analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/change_detection/time_series.html">time series analysis</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../gee/tutorials/enhancement/index.html">image enhancement</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-32"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/enhancement/filtering.html">image filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/enhancement/pansharpening.html">pansharpening</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/enhancement/edge_detection.html">edge detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/enhancement/unmixing.html">spectral unmixing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/enhancement/pca.html">principle component analysis</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../gee/tutorials/advanced/index.html">advanced topics</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-33"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../gee/tutorials/advanced/animation.html">creating an animation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../gee/exercises/index.html">sample exercises</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../research/index.html">ongoing and past research projects</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-34"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../research/dar.html">deplete and retreat (DaR)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../writing/index.html">selected writing samples</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-35"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../writing/source.html">source magazine (summer 2022)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../github.html">github projects</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/iamdonovan/iamdonovan.github.io" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/iamdonovan/iamdonovan.github.io/edit/main/teaching/egm702/practicals/week3.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/iamdonovan/iamdonovan.github.io/issues/new?title=Issue%20on%20page%20%2Fteaching/egm702/practicals/week3.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/teaching/egm702/practicals/week3.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>introduction to google earth engine</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">getting started</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-1-finding-and-inspecting-images">part 1 - finding and inspecting images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-2-band-maths-and-charts">part 2 - band maths and charts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-3-pan-sharpening">part 3 - pan-sharpening</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-4-pca">part 4 - pca</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">next steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notes-and-references">notes and references</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="introduction-to-google-earth-engine">
<h1>introduction to google earth engine<a class="headerlink" href="#introduction-to-google-earth-engine" title="Permalink to this heading">#</a></h1>
<style> .green {color:green} </style><p>In this practical, you’ll get an introduction to using Google Earth Engine (GEE) for remote sensing analysis. Even if
you have no prior experience with programming, you will be able to complete this practical. All of the programming steps
have been provided for you in a script, and your task will be to run each step in turn and analyse and interpret the results.</p>
<p>GEE is “a cloud-based platform for planetary-scale geospatial analysis” (Gorelick et al., 2017<a class="footnote-reference brackets" href="#id3" id="id1">1</a>). With it, users
have access to a number of tools, including entire satellite archives, machine-learning algorithms for classification,
and computational power far beyond what an average desktop user has access to.</p>
<section id="getting-started">
<h2>getting started<a class="headerlink" href="#getting-started" title="Permalink to this heading">#</a></h2>
<p>To begin, point your browser to <a class="reference external" href="https://code.earthengine.google.com">https://code.earthengine.google.com</a>. If you are not already logged in, log in using
your GEE account. You should see something like this:</p>
<a class="reference internal image-reference" href="../../../_images/annotated_window1.png"><img alt="the GEE console with annotations" class="align-center" src="../../../_images/annotated_window1.png" style="width: 720px;" /></a>
<p><br /> Click the red <strong>NEW</strong> button in the <strong>Script manager</strong>, and select <strong>Repository</strong>. Call the repository <code class="docutils literal notranslate"><span class="pre">egm702</span></code>,
and then click <strong>Create</strong>.</p>
<p>To gain access to the EGM702 repository, click this link: <a class="reference external" href="https://code.earthengine.google.com/?accept_repo=users/robertmcnabb/egm702">https://code.earthengine.google.com/?accept_repo=users/robertmcnabb/egm702</a></p>
<p>This will give you access to all of the scripts in the repository for each remaining week of the module, including some
additional examples of applications that might be useful for your project.</p>
<p>The practical exercises each week are divided into a number of different scripts, labeled in order. For week 3, the
scripts are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">01_finding_images.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">02_band_maths.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">03_pan_sharpening.js</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">04_pca.js</span></code></p></li>
</ul>
<p>To get started, open the first script (<code class="docutils literal notranslate"><span class="pre">01_finding_images.js</span></code>) by clicking on it in the <strong>Script editor</strong>;
alternatively, click on this <a class="reference external" href="https://code.earthengine.google.com/?scriptPath=users%2Frobertmcnabb%2Fegm702%3Aweek3%2F01_finding_images.js">direct link</a>.</p>
<p>You (and anyone with the link above) are automatically added to this repository as a <em>Reader</em>; that is, you have
permission to see all of the scripts in the repository, and to run them. If you want to make changes to each script
and save them, you will need to save the script to your own account (as an <em>Owner</em>).</p>
<p>To do this, you first need to make a change to the script in the <strong>Editor</strong> panel. The easiest way to do this would be
to replace “YOUR NAME HERE!” on line 1 with your name.</p>
<p>When you do this, you should see that the <strong>Save</strong> button activates. Click the <strong>Save</strong> button, then click <strong>Yes</strong> to
make a copy of the script to your own repository.</p>
<p>You should see the following dialogue:</p>
<a class="reference internal image-reference" href="../../../_images/save_script.png"><img alt="the save script dialogue" class="align-center" src="../../../_images/save_script.png" style="width: 300px;" /></a>
<p><br /> Save the script to your <code class="docutils literal notranslate"><span class="pre">egm702</span></code> repository as <code class="docutils literal notranslate"><span class="pre">week3/01_finding_images.js</span></code> - you should see a <code class="docutils literal notranslate"><span class="pre">week3</span></code> folder
appear under this repository in the <strong>Script manager</strong>.</p>
<p>As you work through the other scripts this week, be sure to save them to your own repository in this way (remembering
to update the script names appropriately). This way, you have a record of any changes that you make to the script.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Perhaps most importantly, it will mean that when you add training samples for the classification exercises in
Week 5, you don’t have to re-do them each time you re-open your browser window.</p>
</div>
</section>
<section id="part-1-finding-and-inspecting-images">
<h2>part 1 - finding and inspecting images<a class="headerlink" href="#part-1-finding-and-inspecting-images" title="Permalink to this heading">#</a></h2>
<p>Once you have saved the script, you should see something like the following in the code editor:</p>
<a class="reference internal image-reference" href="../../../_images/loaded_saved_script.png"><img alt="the gee window after loading and saving the script" class="align-center" src="../../../_images/loaded_saved_script.png" style="width: 720px;" /></a>
<p><br /> You should also notice that the script begins with a large block of comments (beginning and ending with
<code class="docutils literal notranslate"><span class="pre">/*</span></code> and <code class="docutils literal notranslate"><span class="pre">*/</span></code>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* EGM702 Practical 3, Part 1: Finding Images \\ YOUR NAME HERE!</span>
<span class="cm">-----------------------------------------------------------------------------------------------------</span>

<span class="cm">Introduction</span>

<span class="cm">This script is intended to give you some experience working with Google Earth Engine,</span>
<span class="cm">even if you have never done any computer programming before. In this script, you will</span>
<span class="cm">learn:</span>

<span class="cm">  1. The basic layout of the Earth Engine interface;</span>
<span class="cm">  2. How to search for images and add them to the Map;</span>
<span class="cm">  3. How to adjust visualization parameters using the Layers menu;</span>
<span class="cm">  4. How to find pixel or feature values using the Inspector tool;</span>

<span class="cm">-----------------------------------------------------------------------------------------------------</span>
<span class="cm">*/</span>
</pre></div>
</div>
<p>In Javascript (the programming language used in the code editor interface), comments (that is, statements that the
computer won’t process) are denoted by <code class="docutils literal notranslate"><span class="pre">//</span></code> (two forward slashes) if they are a single line comment.</p>
<p>Multi-line, or block, comments, start with <code class="docutils literal notranslate"><span class="pre">/*</span></code> and end with <code class="docutils literal notranslate"><span class="pre">*/</span></code> – anything in between these symbols will not be
interpreted by the computer when the script is run. In the GEE code editor, comments are colored <span class="green">green</span>.</p>
<p>The first line with actual code to pay attention to is on line 17:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">tools</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;users/robertmcnabb/egm702:libraries/tools.js&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This line will <em>import</em> all of the functions and tools contained in the <code class="docutils literal notranslate"><span class="pre">egm702/libraries/tools.js</span></code> script, which
we will use in most of the remaining exercises.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This setup, where we have different “modules” that we “import” to use in a script, is something that we will
cover in more depth in EGM722 with python programming.</p>
<p>If you are interested in developing your GEE skills further, you can have a look at this
<a class="reference external" href="https://medium.com/google-earth/making-it-easier-to-reuse-code-with-earth-engine-script-modules-2e93f49abb13">post</a>
by a GEE developer, which shows how you can set up your own “module”.</p>
</div>
<p>The next set of lines does the following:</p>
<ul class="simple">
<li><p>searches through the entire Landsat 8 Collection 2 Surface Reflectance archive,</p></li>
<li><p>removes any images with &gt;20% cloud cover,</p></li>
<li><p>and returns only those images whose WRS-2 Path/Row matches our current study area around Mt St Helens.</p></li>
</ul>
<p>It will then store a list of these images in a variable called <code class="docutils literal notranslate"><span class="pre">lc08</span></code> that we can use later on in the script:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Load Landsat 8 images</span>
<span class="c1">// returns all LC08 surface reflectance images with &lt; 20% cloud cover</span>
<span class="c1">// from WRS path/row 46/28.</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">lc08</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C02/T1_L2&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// select Landsat 8 Collection 2 SR</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;less_than&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">20</span><span class="p">)</span><span class="w"> </span><span class="c1">// select cloud cover &lt; 20%</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_PATH&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">46</span><span class="p">))</span><span class="w"> </span><span class="c1">// select WRS Path 46</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_ROW&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">28</span><span class="p">));</span><span class="w"> </span><span class="c1">// select WRS Row 28</span>
</pre></div>
</div>
<p>For more information on the WRS-2, see this link: <a class="reference external" href="https://landsat.gsfc.nasa.gov/about/worldwide-reference-system">https://landsat.gsfc.nasa.gov/about/worldwide-reference-system</a>.</p>
<p>For more information about Landsat Collection 2 images, see this link: <a class="reference external" href="https://www.usgs.gov/landsat-missions/landsat-collection-2">https://www.usgs.gov/landsat-missions/landsat-collection-2</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Remember that the purpose of these practicals is to focus more on image analysis and interpretation, and less on
the nuts and bolts of programming in GEE.</p>
<p>However, if you are interested in learning more about the coding side of things, you are welcome
to check out the amazing new textbook, “Cloud-Based Remote Sensing with Google Earth Engine”, available
<strong>for free</strong> online at <a class="reference external" href="https://www.eefabook.org/">https://www.eefabook.org/</a>.</p>
</div>
<p>The next set of lines will do the same thing as the first set, but this time using the Landsat 8 Collection 2 Top of
Atmosphere (TOA) reflectance archive, rather than the Surface Reflectance products:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// returns all LC08 TOA reflectance images with &lt; 20% cloud cover</span>
<span class="c1">// from WRS path/row 46/28.</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">lc08_toa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C02/T1_TOA&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// select Landsat 8 Collection 2 SR</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;less_than&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">20</span><span class="p">)</span><span class="w"> </span><span class="c1">// select cloud cover &lt; 20%</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_PATH&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">46</span><span class="p">))</span><span class="w"> </span><span class="c1">// select WRS Path 46</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_ROW&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">28</span><span class="p">));</span><span class="w"> </span><span class="c1">// select WRS Row 28</span>
</pre></div>
</div>
<p>For a refresher on the difference between Surface Reflectance and TOA reflectance, see here:
<a class="reference external" href="https://www.usgs.gov/landsat-missions/landsat-collection-2-surface-reflectance">https://www.usgs.gov/landsat-missions/landsat-collection-2-surface-reflectance</a></p>
<p>The following set of lines will return the image from the surface reflectance collection that has the lowest cloud cover,
selecting only images from 2020. It will also make sure to only select the coastal/visible/NIR/SWIR Landsat band layers
(Bands 1-7).</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Find the least cloudy image from 2020, and clip it to the boundary.</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">sr_img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">((</span><span class="nx">lc08</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2020-12-31&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// select all images in 2020</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;SR_B[1-7]&#39;</span><span class="p">])</span><span class="w"> </span><span class="c1">// select bands 1-7</span>
<span class="w">  </span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// sort based on cloud cover (lowest - highest)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">first</span><span class="p">());</span><span class="w"> </span><span class="c1">// return the first image in the list - i.e., the lowest cloud cover</span>

<span class="c1">// Do the same, but for the TOA collection</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">toa_img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">((</span><span class="nx">lc08_toa</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2020-12-31&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// select all images in 2020</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B[1-7]&#39;</span><span class="p">])</span><span class="w"> </span><span class="c1">// select bands 1-7</span>
<span class="w">  </span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// sort based on cloud cover (lowest - highest)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">first</span><span class="p">());</span><span class="w"> </span><span class="c1">// return the first image in the list - i.e., the lowest cloud cover</span>
</pre></div>
</div>
<p>Now, we want to make sure that these images are the same image, just different processing levels (surface reflectance
vs. TOA reflectance). To check this, we can print the image names to the <strong>Console</strong>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// print the image name/date</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;2020 SR Image Date: &#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">sr_img</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;SENSING_TIME&#39;</span><span class="p">)),</span><span class="w"> </span><span class="nx">sr_image</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;2020 TOA Image Date: &#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">toa_img</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;DATE_ACQUIRED&#39;</span><span class="p">)),</span><span class="w"> </span><span class="nx">toa_image</span><span class="p">);</span>
</pre></div>
</div>
<p>The final part of this first section is where we add the images to the map:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add the best images from each collection to the Map as a true-color composite</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">toa_image</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">bands</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;B2&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="nx">gamma</span><span class="o">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;TOA Image&#39;</span><span class="p">);</span>

<span class="c1">// add SR image after rescaling DN values</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">tools</span><span class="p">.</span><span class="nx">oliRescale</span><span class="p">(</span><span class="nx">sr_img</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="nx">bands</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;SR_B4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SR_B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SR_B2&#39;</span><span class="p">],</span>
<span class="w">  </span><span class="nx">min</span><span class="o">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="w"> </span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="nx">gamma</span><span class="o">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;SR Image&#39;</span><span class="p">);</span>

<span class="c1">// center the image on Mt St Helens with a zoom level of 12</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">setCenter</span><span class="p">(</span><span class="o">-</span><span class="mf">122.1886</span><span class="p">,</span><span class="w"> </span><span class="mf">46.1998</span><span class="p">,</span><span class="w"> </span><span class="mf">12</span><span class="p">);</span>
</pre></div>
</div>
<p>We want them to be true-colour composites, so we display them with OLI bands 4,3,2. and we apply a <em>gamma adjustment</em>
to help brighten the image slightly.</p>
<p>At this point, you can <em>run</em> the script, either by pressing <strong>CTRL + Enter</strong>, or by
clicking <strong>Run</strong> at the top of the code editor panel.</p>
<p>Once the script finishes running, you should see this:</p>
<a class="reference internal image-reference" href="../../../_images/loaded_image.png"><img alt="the script after having added the image from step 1." class="align-center" src="../../../_images/loaded_image.png" style="width: 720px;" /></a>
<p><br /> When you mouse over the <strong>Layers</strong> button in the upper right of the <strong>Map</strong> panel, you should see the two layer
names (<code class="docutils literal notranslate"><span class="pre">TOA</span> <span class="pre">Image</span></code> and <code class="docutils literal notranslate"><span class="pre">SR</span> <span class="pre">Image</span></code>):</p>
<a class="reference internal image-reference" href="../../../_images/layer_parameters1.png"><img alt="the layer visualization settings" class="align-center" src="../../../_images/layer_parameters1.png" style="width: 400px;" /></a>
<p><br /> If you click on the gear icon, you can open the visualization parameters for each image and adjust them. You can
also adjust the transparency slider for the different layers displayed here, and by checking/unchecking the box next
to the layer name, you can make either image visible/invisible.</p>
<p>In the <strong>Console</strong> panel, you should see the following:</p>
<a class="reference internal image-reference" href="../../../_images/console1.png"><img alt="the output to the console after running Step 1." class="align-center" src="../../../_images/console1.png" style="width: 400px;" /></a>
<p><br /> This shows that the 2 images are the same image, just different processing levels (<strong>T1_SR</strong> vs <strong>T1_TOA</strong>).
Now, in the <strong>Map</strong> panel, turn off the SR Image to see the TOA Image underneath.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Describe the difference in appearance that you notice between the two images. Which image appears more “blue”?</p>
</div>
</div>
<p>Next, click on the <strong>Inspector</strong> tab, then click anywhere on the <strong>Map</strong> to get the pixel values for each image
displayed on the map at that location:</p>
<a class="reference internal image-reference" href="../../../_images/inspector_list.png"><img alt="the gee window with the inspector tab active, showing a list of pixel values for a given location" class="align-center" src="../../../_images/inspector_list.png" style="width: 720px;" /></a>
<p><br /> By default, the <strong>Inspector</strong> tool displays the values in each band as a list, but you can toggle to view a bar
chart by clicking the chart icon (red outline in the above screenshot):</p>
<a class="reference internal image-reference" href="../../../_images/inspector_chart.png"><img alt="the gee window with the inspector tab active, showing a bar chart of pixel values for a given location" class="align-center" src="../../../_images/inspector_chart.png" style="width: 720px;" /></a>
<p><br /> Click on a few different locations and note down the differences between the two images in each band (note
that the TOA image will be displayed first, then the SR image).</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<ul class="simple">
<li><p class="sd-card-text">In what band(s) do you see the largest difference between the two image?</p></li>
<li><p class="sd-card-text">Using what you have learned about atmospheric scattering, and the wavelengths of the different bands, explain any
difference(s) that you see between the TOA reflectance and the surface reflectance images.</p></li>
</ul>
</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>The sensor carried by Landsat 8 (and now Landsat 9) is the Operational Land Imager/Thermal InfraRed Sensor
(OLI/TIRS). The table below shows the wavelength ranges for the different bands of the sensor(s), their resolutions,
and their names:</p>
<table class="table">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>sensor</p></th>
<th class="head"><p>band</p></th>
<th class="head"><p>wavelength (µm)</p></th>
<th class="head"><p>name</p></th>
<th class="head"><p>resolution (m)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>oli</p></td>
<td><p>1</p></td>
<td><p>0.43 – 0.45</p></td>
<td><p>coastal aerosol</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>2</p></td>
<td><p>0.45 – 0.51</p></td>
<td><p>blue</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>3</p></td>
<td><p>0.53 – 0.59</p></td>
<td><p>green</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>4</p></td>
<td><p>0.64 – 0.67</p></td>
<td><p>red</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>5</p></td>
<td><p>0.85 – 0.88</p></td>
<td><p>near infrared</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>6</p></td>
<td><p>1.57 – 1.65</p></td>
<td><p>shortwave infrared 1</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>7</p></td>
<td><p>2.11 – 2.29</p></td>
<td><p>shortwave infrared 2</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>8</p></td>
<td><p>0.50 – 0.68</p></td>
<td><p>panchromatic</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>9</p></td>
<td><p>1.36 – 1.38</p></td>
<td><p>cirrus</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-odd"><td><p>tirs</p></td>
<td><p>10</p></td>
<td><p>10.60 – 11.19</p></td>
<td><p>thermal infrared 1</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>11</p></td>
<td><p>11.50 – 12.51</p></td>
<td><p>thermal infrared 2</p></td>
<td><p>100</p></td>
</tr>
</tbody>
</table>
<p>For information about the band designations for the other Landsat sensors, see this page from the USGS:
<a class="reference external" href="https://www.usgs.gov/faqs/what-are-band-designations-landsat-satellites">https://www.usgs.gov/faqs/what-are-band-designations-landsat-satellites</a></p>
</div>
<p>Once you’ve looked around the area, move on to the next part.</p>
</section>
<section id="part-2-band-maths-and-charts">
<h2>part 2 - band maths and charts<a class="headerlink" href="#part-2-band-maths-and-charts" title="Permalink to this heading">#</a></h2>
<p>Now that we’ve seen a little of how we can search, add, display, and examine images, let’s take a look at some of the
different DEMs available within GEE.</p>
<p>Open the script for this part of the practical by clicking on <code class="docutils literal notranslate"><span class="pre">02_band_maths.js</span></code> in the <strong>Script manager</strong>, or using
this <a class="reference external" href="https://code.earthengine.google.com/?scriptPath=users%2Frobertmcnabb%2Fegm702%3Aweek3%2F02_band_maths.js">direct link</a>.</p>
<p>We’ll start by adding the NASADEM, the ALOS World 3D – 30 m (AW3D30) DEM, and the SRTM:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add the AW3D30 (ALOS World DEM 30 m)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">alos_dsm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;JAXA/ALOS/AW3D30/V2_2&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span><span class="w"> </span><span class="c1">// clip to the area around mt st helens</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;AVE_DSM&#39;</span><span class="p">).</span><span class="nx">rename</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// select the AVE_DSM band, rename it to elevation</span>

<span class="c1">// add the NASADEM</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">nasadem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;NASA/NASADEM_HGT/001&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span><span class="w"> </span><span class="c1">// clip to the area around mt st helens</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// select the elevation band</span>

<span class="c1">// add the SRTM</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">srtm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span><span class="w"> </span><span class="c1">// clip to the area around mt st helens</span>
<span class="w">  </span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// select the elevation band</span>
</pre></div>
</div>
<p>Note that the NASADEM and the SRTM both have a layer called <code class="docutils literal notranslate"><span class="pre">'elevation'</span></code>, while the AW3D30 has a layer called
<code class="docutils literal notranslate"><span class="pre">'AVE_DSM'</span></code> – when working with other datasets, it’s a good idea to check what the layer names are in the
<a class="reference external" href="https://developers.google.com/earth-engine/datasets">data catalog</a>.</p>
<p>For more information on the different DEMs that GEE has available, check the data catalog for “elevation”:
<a class="reference external" href="https://developers.google.com/earth-engine/datasets/tags/elevation">https://developers.google.com/earth-engine/datasets/tags/elevation</a>.</p>
<p>To visualize the different layers on the <strong>Map</strong>, we can produce a hillshade using <code class="docutils literal notranslate"><span class="pre">ee.Terrain.hillshade()</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add each DEM to the map as a hillshade with azimuth of 315 degrees</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">,</span><span class="w"> </span><span class="mf">315</span><span class="p">),</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="s1">&#39;NASADEM Hillshade&#39;</span><span class="p">);</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">alos_dsm</span><span class="p">,</span><span class="w"> </span><span class="mf">315</span><span class="p">),</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="s1">&#39;ALOS DSM Hillshade&#39;</span><span class="p">);</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">srtm</span><span class="p">,</span><span class="w"> </span><span class="mf">315</span><span class="p">),</span><span class="w"> </span><span class="p">{},</span><span class="w"> </span><span class="s1">&#39;SRTM Hillshade&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you check the <a class="reference external" href="https://developers.google.com/earth-engine/apidocs/ee-terrain-hillshade">documentation</a> for
<code class="docutils literal notranslate"><span class="pre">ee.Terrain.hillshade()</span></code>, you can see that this function takes 3 <em>arguments</em> (inputs):</p>
<table class="table">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>image</p></td>
<td><p>an elevation image, in meters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">azimuth</span></code> (<strong>optional</strong>)</p></td>
<td><p>float, default: 270</p></td>
<td><p>the illumination azimuth in degrees from north</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elevation</span></code> (<strong>optional</strong>)</p></td>
<td><p>float, default: 45</p></td>
<td><p>the illumination elevation in degrees</p></td>
</tr>
</tbody>
</table>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If you are curious about how to use a particular “built-in” function or <em>object</em> (such as <code class="docutils literal notranslate"><span class="pre">ee.Image</span></code> or
<code class="docutils literal notranslate"><span class="pre">ee.ImageCollection</span></code>), it’s always a good idea to check the documentation.</p>
</div>
<p>The second argument (input) to the function sets the azimuth to use when calculating the hillshade – here, I’ve set
them all to be 315 degrees (measured from north). I have left the default sun elevation angle to be 45 degrees,
as measured from the horizon.</p>
<p>When you run the script, you should see the following added to the map (after you turn off the <code class="docutils literal notranslate"><span class="pre">elevation</span> <span class="pre">difference</span></code>
layer):</p>
<a class="reference internal image-reference" href="../../../_images/hillshade.png"><img alt="the hillshade of the SRTM loaded in the map panel" class="align-center" src="../../../_images/hillshade.png" style="width: 720px;" /></a>
<p><br /> The top layer will be the last one added to the Map; in this case, it’s the SRTM hillshade. Remember that if you’re
not sure which layer you’re seeing, you can always check the <strong>Layers</strong> menu.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Toggle between the different layers to see the differences – what do you notice about the different DEMs? Do they
look the same, or are there significant differences? In particular, think about the following questions:</p>
<ul class="simple">
<li><p class="sd-card-text">Which DEM do you think was produced from the highest-resolution sensor? Why?</p></li>
<li><p class="sd-card-text">What surface(s) are represented by the different DEMs? Are they DTMs or DSMs? How can you tell?</p></li>
</ul>
</div>
</div>
<p>The next block of code uses <code class="docutils literal notranslate"><span class="pre">tools.imgStats()</span></code> to calculate various descriptive statistics for the DEMs: the
maximum/minimum, mean, median, and standard deviation.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// calculate statistics</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">alos_stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tools</span><span class="p">.</span><span class="nx">imgStats</span><span class="p">(</span><span class="nx">alos_dsm</span><span class="p">,</span><span class="w"> </span><span class="nx">boundary</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">nasa_stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tools</span><span class="p">.</span><span class="nx">imgStats</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">,</span><span class="w"> </span><span class="nx">boundary</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">srtm_stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">tools</span><span class="p">.</span><span class="nx">imgStats</span><span class="p">(</span><span class="nx">srtm</span><span class="p">,</span><span class="w"> </span><span class="nx">boundary</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span>

<span class="c1">// print the statistics to the console</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;ALOS Stats:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">alos_stats</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;NASADEM Stats:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">nasa_stats</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;SRTM Stats:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">srtm_stats</span><span class="p">);</span>
</pre></div>
</div>
<p>The second part of this prints the statistics to the <strong>Console</strong>. When you run the script, you should see this in
the <strong>Console</strong>:</p>
<a class="reference internal image-reference" href="../../../_images/console2.png"><img alt="the console panel after running step 2 of the script." class="align-center" src="../../../_images/console2.png" style="width: 400px;" /></a>
<p><br /> To see the stats for each DEM, click the arrow next to each <strong>Object</strong>:</p>
<a class="reference internal image-reference" href="../../../_images/printed_stats.png"><img alt="the stats printed to the console panel" class="align-center" src="../../../_images/printed_stats.png" style="width: 400px;" /></a>
<p><br /></p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Expand the stats for each of the DEMs by clicking on the arrows. What do you notice about them – which statistics
show the largest differences? Why do you think this might be?</p>
</div>
</div>
<p>In addition to displaying images and calculating statistics, we can also perform different calculations with images,
such as differencing them or calculating ratios. The first line in this section will subtract the NASADEM from the SRTM,
using <code class="docutils literal notranslate"><span class="pre">ee.Image.subtract()</span></code> (<a class="reference external" href="https://developers.google.com/earth-engine/apidocs/ee-image-subtract">documentation</a>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// subtract the NASADEM from the SRTM, and cast the output as a floating point (decimal)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">nasa_srtm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">srtm</span><span class="p">.</span><span class="kr">float</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As you might imagine, there are corresponding methods for other arithmetic operations, such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>addition: <code class="docutils literal notranslate"><span class="pre">ee.Image.add()</span></code> (<a class="reference external" href="https://developers.google.com/earth-engine/apidocs/ee-image-add">documentation</a>)</p></li>
<li><p>multiplication: <code class="docutils literal notranslate"><span class="pre">ee.Image.multiply()</span></code> (<a class="reference external" href="https://developers.google.com/earth-engine/apidocs/ee-image-multiply">documentation</a>)</p></li>
<li><p>division: <code class="docutils literal notranslate"><span class="pre">ee.Image.divide()</span></code> (<a class="reference external" href="https://developers.google.com/earth-engine/apidocs/ee-image-divide">documentation</a>)</p></li>
</ul>
</div></blockquote>
<p>In addition to the basic arithmetic operations, we will use a number of other examples in the coming weeks.</p>
</div>
<p>Just like with the Landsat images we used in part 1, and the hillshades we saw above, we can add this difference to the
<strong>Map</strong>. To help visualize this, I have used a colormap from <a class="reference external" href="https://colorbrewer2.org">colorbrewer2.org</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add the difference to the map, using a colormap from colorbrewer2.org</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">colormap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;d7191c&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fdae61&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ffffbf&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;abd9e9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2c7bb6&#39;</span><span class="p">];</span>
<span class="nb">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">difference</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nx">min</span><span class="o">:-</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="nx">palette</span><span class="o">:</span><span class="nx">colormap</span><span class="p">},</span><span class="w"> </span><span class="s1">&#39;elevation difference&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This will display the pixel values on the same sort of Red/Yellow/Blue color scale that we used in Week 2 using the
<code class="docutils literal notranslate"><span class="pre">palette</span></code> defined as a list of HTML color codes, while also setting the scale to saturate at -10 m difference and
+10 m difference (<code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code>, respectively).</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Pan and scroll around the <strong>Map</strong> while looking at this difference layer.</p>
<ul class="simple">
<li><p class="sd-card-text">What area(s) do you notice the largest differences between the NASADEM and the SRTM?</p></li>
<li><p class="sd-card-text">Are there any systematic differences (i.e., patterns)?</p></li>
<li><p class="sd-card-text">Does it look like the two DEMs have been co-registered? Why or why not?</p></li>
</ul>
</div>
</div>
<p>In addition to the difference map, we can also display a histogram of the differences using the following code:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">hist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ui</span><span class="p">.</span><span class="nx">Chart</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">histogram</span><span class="p">({</span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">nasa_srtm</span><span class="p">,</span>
<span class="w">  </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="nx">boundary</span><span class="p">,</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="p">,</span>
<span class="w">  </span><span class="nx">maxBuckets</span><span class="o">:</span><span class="w"> </span><span class="mf">256</span><span class="p">,</span>
<span class="w">  </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e9</span><span class="p">})</span>
<span class="w">  </span><span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Difference between SRTM and NASADEM elevation&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">hAxis</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;elevation difference (m)&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">titleTextStyle</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">italic</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">bold</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}},</span>
<span class="w">    </span><span class="nx">vAxis</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;number of pixels&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">titleTextStyle</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">italic</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">bold</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}}</span>
<span class="w">  </span><span class="p">});</span>
</pre></div>
</div>
<p>We then display the chart by printing it to the <strong>Console</strong>:</p>
<a class="reference internal image-reference" href="../../../_images/histogram1.png"><img alt="the histogram showing the differences between the NASADEM and the SRTM DEM." class="align-center" src="../../../_images/histogram1.png" style="width: 720px;" /></a>
<p><br /> If you click the symbol in the upper right corner of the histogram, it will open in a new browser window. On this
page, you can also download a csv file with the values in the plot, or a Scalable Vector Graphics (SVG) or PNG version
of the chart.</p>
<p>The final two things printed to the <strong>Console</strong> are the descriptive statistics of the DEM differences
(<code class="docutils literal notranslate"><span class="pre">dH</span> <span class="pre">statistics</span></code>), and the normalized median absolute deviation (NMAD) between the two DEMs. You may need to scroll
down below the chart to see these, but be sure to look at these before answering the following question.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Based on:</p>
<ul class="simple">
<li><p class="sd-card-text">the shape of the histogram that you see;</p></li>
<li><p class="sd-card-text">the lecture from Week 2;</p></li>
<li><p class="sd-card-text">Höhle and Höhle (2009)<a class="footnote-reference brackets" href="#id4" id="id2">2</a>;</p></li>
</ul>
<p class="sd-card-text">is the standard deviation an appropriate metric to describe the variation in the data? <strong>Why or why not?</strong></p>
</div>
</div>
</section>
<section id="part-3-pan-sharpening">
<h2>part 3 - pan-sharpening<a class="headerlink" href="#part-3-pan-sharpening" title="Permalink to this heading">#</a></h2>
<p>For the third part of this week’s practical, we’ll look at one method of <em>pan-sharpening</em> - that is, using a
band or an image with a higher resolution to “sharpen”, or increase the resolution of, another image.</p>
<p>Open the script for this part of the practical by clicking on <code class="docutils literal notranslate"><span class="pre">03_pan_sharpen.js</span></code> in the <strong>Script manager</strong>, or using
this <a class="reference external" href="https://code.earthengine.google.com/?scriptPath=users%2Frobertmcnabb%2Fegm702%3Aweek3%2F03_pan_sharpening.js">direct link</a>.</p>
<p>The first bit of code that we haven’t seen before is at line 24:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// we&#39;ll use surface reflectance bands 4, 3, and 2</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">bands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;SR_B4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SR_B3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SR_B2&#39;</span><span class="p">];</span>
</pre></div>
</div>
<p>With this, we’re creating a <strong>List</strong> of bands (enclosed in square brackets, <code class="docutils literal notranslate"><span class="pre">[</span></code> and <code class="docutils literal notranslate"><span class="pre">]</span></code>) that we first use with
<code class="docutils literal notranslate"><span class="pre">ee.Image.select()</span></code> to create a new image composed of OLI bands 4, 3, and 2, before using <code class="docutils literal notranslate"><span class="pre">ee.Image.rgbToHsv()</span></code> to
transform this image from red, green, blue (RGB) to hue, saturation, value (HSV) color space:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// use image.rgbToHsv to transfom the SR true-color image from RGB to HSV color space</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">img_hsv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sr_img</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">bands</span><span class="p">).</span><span class="nx">rgbToHsv</span><span class="p">();</span>
</pre></div>
</div>
<p>The next few lines are where we actually perform the pan-sharpening via IHS (or, in this case, HSV) fusion:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// create a pan-sharpened image</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">pan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">cat</span><span class="p">([</span>
<span class="w">  </span><span class="nx">img_hsv</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;hue&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// get the hue band from the hsv image</span>
<span class="w">  </span><span class="nx">img_hsv</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;saturation&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// get the saturation band from the hsv image</span>
<span class="w">  </span><span class="nx">toa_img</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;B8&#39;</span><span class="p">)</span><span class="w"> </span><span class="c1">// replace &quot;value&quot; with oli panchromatic band</span>
<span class="p">]).</span><span class="nx">hsvToRgb</span><span class="p">();</span><span class="w"> </span><span class="c1">// transform the HSV image back to RGB color space</span>
</pre></div>
</div>
<p>In this, we combine the original hue and saturation bands, with 30 m spatial resolution, with the 15 m panchromatic
band (B8) from the TOA image. Then, we transform the image back to RGB space using <code class="docutils literal notranslate"><span class="pre">ee.Image.hsvToRgb()</span></code>.</p>
<p>Run the script now. When you hover over the <strong>Layers</strong> menu, you should see the following:</p>
<a class="reference internal image-reference" href="../../../_images/pan_layers.png"><img alt="the layers added to the map after running the pan-sharpening script" class="align-center" src="../../../_images/pan_layers.png" style="width: 300px;" /></a>
<p><br /> At the moment, only two images are visible: the pan-sharpened image, and the original SR image.</p>
<p>As you pan around the map, looking at the pan-sharpened image, you should notice that it appears somewhat sharper
than the original SR image - roads and paths in the forest appear more clearly, and you may notice quite a bit more
texture in many areas.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Toggle the pan-sharpened image on and off to view the differences between these two images. What do you notice about
the color of the pan-sharpened image, compared to the SR image?</p>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because the wavelengths of the panchromatic band do not fully overlap with the wavelengths of bands 4, 3, and 2,
and the panchromatic band has not been atmospherically corrected, the values in the red, green, and blue channels
of the pan-sharpened image no longer correspond to surface reflectance values.</p>
<p>Remember that you can use these images to aid in visual interpretation, but you should not assume that you can use
pan-sharpened images for other kinds of analysis.</p>
</div>
<p>Now, take a look at the final block of code in the script:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// export a visualization image to google drive</span>
<span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span>
<span class="w">  </span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">pan</span><span class="p">.</span><span class="nx">visualize</span><span class="p">({</span><span class="nx">min</span><span class="o">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="nx">gamma</span><span class="o">:</span><span class="mf">1.5</span><span class="p">}),</span>
<span class="w">  </span><span class="nx">description</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;LC08_046028_20200823_pan&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">15</span><span class="p">,</span>
<span class="w">  </span><span class="nx">region</span><span class="o">:</span><span class="w"> </span><span class="nx">pan</span><span class="p">.</span><span class="nx">geometry</span><span class="p">(),</span>
<span class="w">  </span><span class="nx">crs</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;epsg:32610&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// use wgs84 utm zone 10N</span>
<span class="w">  </span><span class="nx">maxPixels</span><span class="o">:</span><span class="w"> </span><span class="mf">1e13</span>
<span class="p">});</span>
</pre></div>
</div>
<p>This block of code creates a task to export the pan-sharpened image to a raster called <strong>LC08_046028_20200823_pan.tif</strong>,
using a CRS with <a class="reference external" href="https://en.wikipedia.org/wiki/EPSG_Geodetic_Parameter_Dataset">EPSG</a> code 32610 (corresponding to
WGS84 UTM Zone 10N). You should notice that the <strong>Tasks</strong> tab is highlighted:</p>
<a class="reference internal image-reference" href="../../../_images/tasks.png"><img alt="the console showing the tasks tab highlighted" class="align-center" src="../../../_images/tasks.png" style="width: 400px;" /></a>
<p><br /> When you click on it, you should see this:</p>
<a class="reference internal image-reference" href="../../../_images/new_task.png"><img alt="the tasks tab" class="align-center" src="../../../_images/new_task.png" style="width: 400px;" /></a>
<p><br /> Click <strong>RUN</strong> to export the file to your Google Drive. In the window that opens up, you can choose a different
folder, resolution, CRS, or place to export it. In general, running the task might take some time, depending on the
size of the image. You can click the ‘Refresh’ button to check the status to see if it’s finished running.</p>
<p>Once the task has finished, you can download the file from your Google Drive, and use it in a GIS program such as
QGIS:</p>
<a class="reference internal image-reference" href="../../../_images/pan_qgis.png"><img alt="the exported display image loaded into qgis" class="align-center" src="../../../_images/pan_qgis.png" style="width: 720px;" /></a>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>This could make an excellent base image for a study area map that you might use in your presentation and/or report.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the example above, I have exported the <em>visualization</em> image:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">image</span><span class="o">:</span><span class="w"> </span><span class="nx">pan</span><span class="p">.</span><span class="nx">visualize</span><span class="p">({</span><span class="nx">min</span><span class="o">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="o">:</span><span class="mf">0.4</span><span class="p">,</span><span class="w"> </span><span class="nx">gamma</span><span class="o">:</span><span class="mf">1.5</span><span class="p">})</span>
</pre></div>
</div>
<p>this means that the output raster will be a 3 band, 8-bit image, with pixel values corresponding to the parameter
values supplied to <code class="docutils literal notranslate"><span class="pre">ee.Image.visualize()</span></code>.</p>
<p>If you would rather export the pan-sharpened image with the original values, simply remove
<code class="docutils literal notranslate"><span class="pre">.visualize({min:0.005,</span> <span class="pre">max:0.4,</span> <span class="pre">gamma:1.5})</span></code> from the script and re-run it.</p>
</div>
</section>
<section id="part-4-pca">
<h2>part 4 - pca<a class="headerlink" href="#part-4-pca" title="Permalink to this heading">#</a></h2>
<p>In the final part of this week’s practical, we’ll have a look at principal component analysis (PCA), and see how the
different bands of the PCA image compare to the original image bands. As we discussed in the lecture, PCA can help
maximize the difference between bands by transforming the image in a way that minimizes the correlation between bands
of the image.</p>
<p>Open the script for this part of the practical by clicking on <code class="docutils literal notranslate"><span class="pre">04_pca.js</span></code> in the <strong>Script manager</strong>, or using
this <a class="reference external" href="https://code.earthengine.google.com/?scriptPath=users%2Frobertmcnabb%2Fegm702%3Aweek3%2F04_pca.js">direct link</a>.</p>
<p>You’ll notice that this script appears very short - that’s because the majority of the steps of calculating the PCA
are hidden away in <code class="docutils literal notranslate"><span class="pre">libraries/tools.js</span></code>, where I’ve used and adapted the code provided in
<a class="reference external" href="https://developers.google.com/earth-engine/guides/arrays_eigen_analysis">this example</a>.</p>
<p>We won’t cover the details of this transformation here, but if you are interested in learning some more,
<a class="reference external" href="https://towardsdatascience.com/a-step-by-step-introduction-to-pca-c0d78e26a0dd">this post</a> has a good, short
introduction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you click <strong>Run</strong>, it may take a minute for anything to “happen” - be patient.</p>
</div>
<p>When the script finishes running, you should see the following:</p>
<a class="reference internal image-reference" href="../../../_images/pca_loaded.png"><img alt="the decorrelation stretch image displayed on the map" class="align-center" src="../../../_images/pca_loaded.png" style="width: 720px;" /></a>
<p><br /></p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Before zooming in, have a look at the decorrelation stretch as a whole. What features jump out at you?</p>
</div>
</div>
<p>The decorrelation stretch displays the first three principal components (<code class="docutils literal notranslate"><span class="pre">pc1</span></code>, <code class="docutils literal notranslate"><span class="pre">pc2</span></code>, and <code class="docutils literal notranslate"><span class="pre">pc3</span></code>) in the red,
green, and blue channels of the image; this means that we can interpret the image on the screen as follows:</p>
<ul class="simple">
<li><p>red/pink: high values in <code class="docutils literal notranslate"><span class="pre">pc1</span></code>, lower values in <code class="docutils literal notranslate"><span class="pre">pc2</span></code> and <code class="docutils literal notranslate"><span class="pre">pc3</span></code>;</p></li>
<li><p>green: low values in <code class="docutils literal notranslate"><span class="pre">pc1</span></code> and <code class="docutils literal notranslate"><span class="pre">pc3</span></code>, higher values in <code class="docutils literal notranslate"><span class="pre">pc2</span></code>;</p></li>
<li><p>purple: similarly high values in <code class="docutils literal notranslate"><span class="pre">pc1</span></code> and <code class="docutils literal notranslate"><span class="pre">pc3</span></code>, low values in <code class="docutils literal notranslate"><span class="pre">pc2</span></code>;</p></li>
<li><p>blue: high values in <code class="docutils literal notranslate"><span class="pre">pc3</span></code>, low values in <code class="docutils literal notranslate"><span class="pre">pc1</span></code> and <code class="docutils literal notranslate"><span class="pre">pc3</span></code>;</p></li>
<li><p>black: low values in all three bands;</p></li>
</ul>
<p>and so on.</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm question docutils">
<div class="sd-card-header question docutils">
<p class="sd-card-text"><span class="far fa-circle-question 1em;sd-color-light"></span> Question</p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">Using the list of color examples above, see if you can identify what surface type corresponds to each example.</p>
<p class="sd-card-text">Remember that there might be several different surface types that correspond to each color, so feel free to use
both the SR image and the background satellite image to help you.</p>
</div>
</div>
<p>One of the applications of PCA, especially in data science more generally, is for “dimension reduction.” In effect,
most of the “information” about the image is contained in the first principal component, and the amount of information
decreases for each PC band. We can see this by looking at <code class="docutils literal notranslate"><span class="pre">pc7</span></code>:</p>
<a class="reference internal image-reference" href="../../../_images/sensor_noise.png"><img alt="the 7th principal component displayed on the map" class="align-center" src="../../../_images/sensor_noise.png" style="width: 720px;" /></a>
<p><br /> In this image, we can actually see residual sensor noise - the stripes are due to variations in the response of the
detector arrays in the OLI sensor.</p>
<p>In the original image, these variations are very minor (we typically can only see them over very dark pixels such as
deep water), but due to the PCA transformation, the noise is enhanced in the final PC band.</p>
<p>Now, look at <code class="docutils literal notranslate"><span class="pre">pc1</span></code> by deactivating the other layers in the <strong>Layer Menu</strong>:</p>
<a class="reference internal image-reference" href="../../../_images/pc1.png"><img alt="the 1st principal component displayed on the map" class="align-center" src="../../../_images/pc1.png" style="width: 720px;" /></a>
<p><br /> You should notice how the Columbia River stands out as a bright, white ribbon cutting through the middle of the
image, as do a number of other lakes and reservoirs. You should also notice that the eastern (right) part of the image
is quite a bit brighter than the western (left) part.</p>
<p>One of the applications of PCA and decorrelation stretching that we discussed in this week’s lecture was for mineral
mapping, since PCA helps accentuate the differences in reflectance of difference surfaces across all bands of the image.</p>
<p>Zooming in on Mt St Helens, you should notice a difference between the North and South flanks of the volcano. If you
flip back to the decorrelation stretch, you can see that there is quite a bit of variation in color on the slopes of
the volcano itself, owing to the variation in minerals and rock types that make up the volcano.</p>
<p>You should also notice that the short, scrub vegetation that has begun to grow since the 1980 eruption looks quite dark
in <code class="docutils literal notranslate"><span class="pre">pc1</span></code>, while the older forests that weren’t damaged as part of the eruption (or subsequently logged) appear
brighter. In addition to mineral mapping, this shows that we can use PCA to help highlight differences in vegetation
type.</p>
<p>As a final step, if you want to export the PCA image in order to use it for further analysis in QGIS or ArcGIS,
copy and paste the following code snippet to the bottom of the script, then re-run the script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Export</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">toDrive</span><span class="p">({</span>
  <span class="n">image</span><span class="p">:</span> <span class="n">pcImage</span><span class="p">,</span>
  <span class="n">description</span><span class="p">:</span> <span class="s1">&#39;LC08_046028_20200823_pca&#39;</span><span class="p">,</span>
  <span class="n">scale</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="n">region</span><span class="p">:</span> <span class="n">pcImage</span><span class="o">.</span><span class="n">geometry</span><span class="p">(),</span>
  <span class="n">crs</span><span class="p">:</span> <span class="s1">&#39;epsg:32610&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">use</span> <span class="n">wgs84</span> <span class="n">utm</span> <span class="n">zone</span> <span class="mi">10</span><span class="n">N</span>
  <span class="n">maxPixels</span><span class="p">:</span> <span class="mf">1e13</span>
<span class="p">});</span>
</pre></div>
</div>
</section>
<section id="next-steps">
<h2>next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h2>
<p>Make sure that as you work through the practical, you understand and can answer the questions being asked. If you’re
not sure, ask on the discussion board on blackboard.</p>
<p>If you’re looking for additional exercises, you can try the following suggestions (in no particular order):</p>
<ul class="simple">
<li><p>Using the decorrelation stretch from part 4, and
<a class="reference external" href="https://www.dnr.wa.gov/publications/lm_hcp_west_oldgrowth_guide_enviro_hires.pdf">figure 3</a> (page 3) from this
pamphlet, can you identify which color(s) of the decorrelation stretch correspond to which tree species?</p></li>
</ul>
</section>
<section id="notes-and-references">
<h2>notes and references<a class="headerlink" href="#notes-and-references" title="Permalink to this heading">#</a></h2>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Gorelick, N., M. Hancher, M. Dixon, S. Ilyushchenko, D. Thau, and R. Moore (2017). Google Earth Engine:
Planetary-scale geospatial analysis for everyone. <em>Rem. Sens. Env.</em> 202, 18-27.
doi: <a class="reference external" href="https://doi.org/10.1016/j.rse.2017.06.031">10.1016/j.rse.2017.06.031</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Höhle, J. &amp; Höhle, M. (2009). Accuracy assessment of digital elevation models by means of robust statistical
methods. <em>ISPRS J. Photogramm. Rem. Sens.</em> 64, 398–406.
doi: <a class="reference external" href="https://doi.org/10.1016/j.isprsjprs.2009.02.003">10.1016/j.isprsjprs.2009.02.003</a></p>
</dd>
</dl>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="week2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">dem differencing</p>
      </div>
    </a>
    <a class="right-next"
       href="week4.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">change detection in earth engine</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started">getting started</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-1-finding-and-inspecting-images">part 1 - finding and inspecting images</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-2-band-maths-and-charts">part 2 - band maths and charts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-3-pan-sharpening">part 3 - pan-sharpening</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#part-4-pca">part 4 - pca</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">next steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notes-and-references">notes and references</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Bob McNabb
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Bob McNabb. Licensed under Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0).
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>