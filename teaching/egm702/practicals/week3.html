<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>week 3 - introduction to google earth engine &mdash; iamdonovan  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="week 4 - change detection in earth engine" href="week4.html" />
    <link rel="prev" title="week 2 - dem differencing" href="week2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> iamdonovan
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../whataboutbob.html">about me</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">teaching and related resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#unis-spring-2017">unis (spring 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#esa-cryosphere-training-course-june-2018">esa cryosphere training course (june 2018)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#ulster-2020-present">ulster (2020-present)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../egm310/index.html">EGM310: introduction to gis and remote sensing</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">EGM702: photogrammetry and advanced image analysis</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../lectures.html">lectures</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">practicals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../resources.html">additional resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html#content">content</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../egm703/index.html">EGM703: advanced active and passive remote sensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../egm722/index.html">EGM722: programming for gis and remote sensing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../research/index.html">ongoing and past research projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../github.html">github projects</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">iamdonovan</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">teaching and related resources</a> &raquo;</li>
          <li><a href="../index.html">EGM702: photogrammetry and advanced image analysis</a> &raquo;</li>
          <li><a href="index.html">practicals</a> &raquo;</li>
      <li>week 3 - introduction to google earth engine</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/teaching/egm702/practicals/week3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="week-3-introduction-to-google-earth-engine">
<h1>week 3 - introduction to google earth engine<a class="headerlink" href="#week-3-introduction-to-google-earth-engine" title="Permalink to this headline"></a></h1>
<style> .green {color:green} </style><div class="section" id="introduction">
<h2>introduction<a class="headerlink" href="#introduction" title="Permalink to this headline"></a></h2>
<p>In this practical, you’ll get an introduction to using Google Earth Engine (GEE) for remote sensing analysis. Even if you have no prior experience with programming, you will be able to complete this practical. All of the programming steps have been provided for you in a script, and your task will be to run each step in turn and analyse and interpret the results.</p>
<p>GEE is “a cloud-based platform for planetary-scale geospatial analysis” (Gorelick et al., 2017<a class="footnote-reference brackets" href="#id2" id="id1">1</a>). With it, users have access to a number of tools, including entire satellite archives, machine-learning algorithms for classification, and computational power above what an average desktop user has access to.</p>
</div>
<div class="section" id="getting-started">
<h2>getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline"></a></h2>
<p>To begin, point your browser to <a class="reference external" href="https://code.earthengine.google.com">https://code.earthengine.google.com</a>. If you are not already logged in, log in using your GEE account. You should see something like this:</p>
<a class="reference internal image-reference" href="../../../_images/annotated_window.png"><img alt="the GEE console with annotations" class="align-center" src="../../../_images/annotated_window.png" style="width: 600px;" /></a>
<p>Now, to import the intro script, follow <a class="reference external" href="https://code.earthengine.google.com/bfd35996ac6506fced87a4e1a0224ebd?noload=true">this link</a>. It should open the following:</p>
<a class="reference internal image-reference" href="../../../_images/loaded_script.png"><img alt="the gee window after loading the script" class="align-center" src="../../../_images/loaded_script.png" style="width: 600px;" /></a>
<p>Click the red NEW button in the Script manager, and select <strong>Repository</strong>. Call the repository <code class="docutils literal notranslate"><span class="pre">egm702</span></code>, and then click <strong>Create</strong>. Next, in the code editor, type your name after “Practical 3” – this will enable you to save the script to your new repository. Call it <code class="docutils literal notranslate"><span class="pre">practical3</span></code>, and click <strong>OK</strong> to save the script to the new repository.</p>
<a class="reference internal image-reference" href="../../../_images/save_script.png"><img alt="the save script dialogue" class="align-center" src="../../../_images/save_script.png" style="width: 300px;" /></a>
</div>
<div class="section" id="running-the-script">
<h2>running the script<a class="headerlink" href="#running-the-script" title="Permalink to this headline"></a></h2>
<p>Once you have saved the script, you should see the following in the code editor:</p>
<a class="reference internal image-reference" href="../../../_images/loaded_saved_script.png"><img alt="the gee window after loading and saving the script" class="align-center" src="../../../_images/loaded_saved_script.png" style="width: 600px;" /></a>
<p>At the very top of the script, you should see two <strong>imports</strong>: <code class="docutils literal notranslate"><span class="pre">boundary</span></code>, a rectangle roughly corresponding to our study area, and
<code class="docutils literal notranslate"><span class="pre">gifBoundary</span></code>, a rectangle roughly corresponding to the area impacted by the 1980 eruptions of Mt St Helens.
You should also notice that the script begins with a large block of comments (beginning and ending with <code class="docutils literal notranslate"><span class="pre">/*</span></code> and <code class="docutils literal notranslate"><span class="pre">*/</span></code>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* EGM702 Practical 3.</span>
<span class="cm">-----------------------------------------------------------------------------------------------------</span>

<span class="cm">Introduction</span>

<span class="cm">This script is intended to give you some experience working with Google Earth Engine,</span>
<span class="cm">even if you have never done any computer programming before.</span>
<span class="cm">You&#39;ll notice that all of the lines of this script, except the first step and the</span>
<span class="cm">function definitions, are commented out - each line starts with a comment symbol, &#39;//&#39;</span>
<span class="cm">run a command, you&#39;ll need to remove the comment symbol from the beginning of the line.</span>

<span class="cm">-----------------------------------------------------------------------------------------------------</span>
<span class="cm">*/</span>
</pre></div>
</div>
<p>In Javascript (the programming language used in the code editor interface), comments (that is, statements that the computer
won’t process) are denoted by <code class="docutils literal notranslate"><span class="pre">//</span></code> (two forward slashes) if they are a single line comment. Multi-line, or block, comments, start
with <code class="docutils literal notranslate"><span class="pre">/*</span></code> and end with <code class="docutils literal notranslate"><span class="pre">*/</span></code> – anything in between these symbols will not be interpreted by the computer when the script is run.
In the GEE code editor, comments are coloured <span class="green">green</span>.</p>
<p>If you scroll down through the script, you should see a number of function definitions. Don’t worry too much about these right
now – they’re there to help make the code a bit easier to read/understand, and help to avoid re-writing the same lines of code
over and over again.</p>
</div>
<div class="section" id="step-1-finding-the-best-image-in-a-given-year">
<h2>step 1. finding the best image in a given year<a class="headerlink" href="#step-1-finding-the-best-image-in-a-given-year" title="Permalink to this headline"></a></h2>
<p>The first lines to pay attention to look like this:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// -----------------------------------------------------------------------------------------------------</span>
<span class="c1">// Step 1. Finding the best image in a given year.</span>

<span class="c1">// Load Landsat 8 images</span>
<span class="c1">// returns all LC08 surface reflectance images with &lt; 20% cloud cover</span>
<span class="c1">// from WRS path/row 46/28.</span>
<span class="kd">var</span> <span class="nx">lc08</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C01/T1_SR&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span> <span class="s1">&#39;less_than&#39;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_PATH&#39;</span><span class="p">,</span> <span class="mf">46</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_ROW&#39;</span><span class="p">,</span> <span class="mf">28</span><span class="p">));</span>
</pre></div>
</div>
<p>These lines of code will take the entire Landsat 8 Collection 1 Surface Reflectance archive, remove any images with &gt;20% cloud
cover, and return only those images whose WRS-2 Path/Row matches our current study area around Mt St Helens. For more
information on the WRS-2, see this link: <a class="reference external" href="https://landsat.gsfc.nasa.gov/about/worldwide-reference-system">https://landsat.gsfc.nasa.gov/about/worldwide-reference-system</a>. It will then store a list
of these images in a variable called lc08.</p>
<p>The next set of lines will do the same thing, but this time using the Landsat 8 Collection 1 Top of Atmosphere (TOA) reflectance
archive:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// returns all LC08 TOA reflectance images with &lt; 20% cloud cover</span>
<span class="c1">// from WRS path/row 46/28.</span>
<span class="kd">var</span> <span class="nx">lc08_toa</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LC08/C01/T1_TOA&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span> <span class="s1">&#39;less_than&#39;</span><span class="p">,</span> <span class="mf">20</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_PATH&#39;</span><span class="p">,</span> <span class="mf">46</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;WRS_ROW&#39;</span><span class="p">,</span> <span class="mf">28</span><span class="p">));</span>
</pre></div>
</div>
<p>For a refresher on the difference between Surface Reflectance and TOA reflectance, see here: <a class="reference external" href="https://www.usgs.gov/core-science-systems/nli/landsat/landsat-collection-1-surface-reflectance">https://www.usgs.gov/core-science-systems/nli/landsat/landsat-collection-1-surface-reflectance</a>.</p>
<p>The following set of lines will return the image from these collections that has the lowest cloud cover, selecting only images
from 2020. It will also make sure to only select the coastal/visible/NIR/SWIR Landsat band layers (Bands 1-7).</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Find the least cloudy image from 2020, and clip it to the boundary.</span>
<span class="kd">var</span> <span class="nx">sr_image</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">((</span><span class="nx">lc08</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;2020-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2020-12-31&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B[1-7]&#39;</span><span class="p">])</span>
  <span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">first</span><span class="p">());</span>
</pre></div>
</div>
<p>Now, we want to make sure that these images are the same image, just different processing levels (surface reflectance vs. TOA
reflectance). To check this, we can print the image names to the console:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// print the image name/date</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;2020 SR Image Date: &#39;</span><span class="p">,</span> <span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">sr_image</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;SENSING_TIME&#39;</span><span class="p">)),</span> <span class="nx">sr_image</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;2020 TOA Image Date: &#39;</span><span class="p">,</span> <span class="nx">ee</span><span class="p">.</span><span class="nb">Date</span><span class="p">(</span><span class="nx">toa_image</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;DATE_ACQUIRED&#39;</span><span class="p">)),</span> <span class="nx">toa_image</span><span class="p">);</span>
</pre></div>
</div>
<p>And finally, we add the images to the map. We want them to be true-colour composites, so we display them with bands 4,3,2.
The TOA reflectance image will look a bit difference, so we use slightly different colour settings.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add the best images from each collection to the Map as a true-color composite</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">toa_image</span><span class="p">,</span> <span class="p">{</span><span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span> <span class="nx">max</span><span class="o">:</span> <span class="p">[</span><span class="mf">0.18</span><span class="p">,</span> <span class="mf">0.22</span><span class="p">,</span> <span class="mf">0.22</span><span class="p">],</span> <span class="nx">gamma</span><span class="o">:</span> <span class="p">[</span><span class="mf">0.95</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">1</span><span class="p">]},</span> <span class="s1">&#39;TOA Image&#39;</span><span class="p">);</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">sr_image</span><span class="p">,</span> <span class="p">{</span><span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span> <span class="nx">min</span><span class="o">:</span> <span class="mf">100</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mf">2000</span><span class="p">,</span> <span class="nx">gamma</span><span class="o">:</span> <span class="mf">1.5</span><span class="p">},</span> <span class="s1">&#39;SR Image&#39;</span><span class="p">);</span>

<span class="c1">// center the image on Mt St Helens with a zoom level of 12</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">setCenter</span><span class="p">(</span><span class="o">-</span><span class="mf">122.1886</span><span class="p">,</span> <span class="mf">46.1998</span><span class="p">,</span> <span class="mf">12</span><span class="p">);</span>
</pre></div>
</div>
<p>At this point, you can run the script, either by pressing <strong>CTRL + Enter</strong>, or by clicking <strong>Run</strong> at the top of the code editor panel. Once
the script finishes running, you should see this:</p>
<a class="reference internal image-reference" href="../../../_images/loaded_image.png"><img alt="the script after having added the image from step 1." class="align-center" src="../../../_images/loaded_image.png" style="width: 600px;" /></a>
<p>When you mouse over the <strong>Layers</strong> button in the upper right of the <strong>Map</strong> panel, you should see the two layer names (TOA Image
and SR Image). If you click on the gear icon, you can open the visualization parameters for each image and adjust them. You can
also adjust the transparency slider for the different layers displayed here, and by checking/unchecking the box next to the layer
name, you can make either image visible/invisible.</p>
<a class="reference internal image-reference" href="../../../_images/layer_parameters.png"><img alt="the layer visualization settings" class="align-center" src="../../../_images/layer_parameters.png" style="width: 400px;" /></a>
<p>In the console panel, you should see the following:</p>
<a class="reference internal image-reference" href="../../../_images/console1.png"><img alt="the output to the console after running Step 1." class="align-center" src="../../../_images/console1.png" style="width: 400px;" /></a>
<p>This shows that the 2 images are the same image, just different processing levels. Now, in the <strong>Map</strong> panel, turn off the SR Image
to see the TOA Image underneath. What differences do you notice? Why do you think these layers look so different? Try
adjusting the colours for the TOA or the SR Image – you can start with a 98% stretch by clicking the <strong>Custom</strong> button in the
visualization parameters panel. Try different band combinations, too. For example, change the display bands to bands 7, 6, and
5, and apply a 98% stretch to both images. Do you notice more, or less of a difference for this band combination? Why do you
think that might be?</p>
<p>You can use the <strong>Inspector</strong> tab to look at different pixel or feature values for the layers in the map by clicking on the map. You
can also try this with different years or time periods – just replace the dates in the filtering step (note the format of YYYY-MM-
DD):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Find the least cloudy image from some year, and clip it to the boundary.</span>
<span class="kd">var</span> <span class="nx">sr_image</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">((</span><span class="nx">lc08</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="p">,</span> <span class="s1">&#39;YYYY-MM-DD&#39;</span><span class="p">)</span> <span class="c1">// &lt;- place your own dates here!</span>
  <span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B[1-7]&#39;</span><span class="p">])</span>
  <span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">first</span><span class="p">());</span>
</pre></div>
</div>
<p>Once you’ve looked around the area, move on to the next step.</p>
</div>
<div class="section" id="step-2-add-a-dem-print-statistics">
<h2>step 2. add a dem, print statistics<a class="headerlink" href="#step-2-add-a-dem-print-statistics" title="Permalink to this headline"></a></h2>
<p>Now that we’ve seen how we can search, add, and display Landsat images, let’s take a look at some of the different DEMs
available within GEE. We’ll start by adding the NASADEM, ALOS World 3D – 30 m (AW3D30) DEM, and the SRTM. For more
information on the different DEMs that GEE has available, check the data catalog here: <a class="reference external" href="https://developers.google.com/earth">https://developers.google.com/earth</a>-
engine/datasets/tags/elevation. Uncomment the next block of lines to add these DEMs to the code editor:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// step 2. add a DEM, print statistics</span>

<span class="c1">// add the AW3D30 (ALOS World DEM 30 m)</span>
<span class="kd">var</span> <span class="nx">alos_dsm</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;JAXA/ALOS/AW3D30/V2_2&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;AVE_DSM&#39;</span><span class="p">);</span>

<span class="c1">// add the NASADEM</span>
<span class="kd">var</span> <span class="nx">nasadem</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;NASA/NASADEM_HGT/001&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span>

<span class="c1">// add the SRTM</span>
<span class="kd">var</span> <span class="nx">srtm</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s2">&quot;USGS/SRTMGL1_003&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that the NASADEM and the SRTM both have a layer called <code class="docutils literal notranslate"><span class="pre">'elevation'</span></code>, while the AW3D30 has a layer called <code class="docutils literal notranslate"><span class="pre">'AVE_DSM'</span></code> –
when working with other datasets, it’s a good idea to check what the layer names are. To visualize the different layers, we can
produce a hillshade using the <code class="docutils literal notranslate"><span class="pre">ee.Terrain.hillshade()</span></code> function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// add each DEM to the map as a hillshade with azimuth of 315 degrees</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">,</span> <span class="mf">315</span><span class="p">),</span> <span class="p">{},</span> <span class="s1">&#39;NASADEM Hillshade&#39;</span><span class="p">);</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">alos_dsm</span><span class="p">,</span> <span class="mf">315</span><span class="p">),</span> <span class="p">{},</span> <span class="s1">&#39;ALOS DSM Hillshade&#39;</span><span class="p">);</span>
<span class="nx">Map</span><span class="p">.</span><span class="nx">addLayer</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Terrain</span><span class="p">.</span><span class="nx">hillshade</span><span class="p">(</span><span class="nx">srtm</span><span class="p">,</span> <span class="mf">315</span><span class="p">),</span> <span class="p">{},</span> <span class="s1">&#39;SRTM Hillshade&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The second argument to the function sets the azimuth to use when calculating the hillshade – here, I’ve set them all to be 315
degrees. If you run the code now, you should see this:</p>
<a class="reference internal image-reference" href="../../../_images/hillshade.png"><img alt="the hillshade of the SRTM loaded in the map panel" class="align-center" src="../../../_images/hillshade.png" style="width: 600px;" /></a>
<p>The top layer will be the last one added to the Map; in this case, it’s the SRTM hillshade. You can toggle between the different
layers to see the differences – what do you notice about the different DEMs? Do they look the same, or are there significant
differences?
Next, uncomment the following lines:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// calculate statistics</span>
<span class="kd">var</span> <span class="nx">alos_stats</span> <span class="o">=</span> <span class="nx">imgStats</span><span class="p">(</span><span class="nx">alos_dsm</span><span class="p">,</span> <span class="nx">boundary</span><span class="p">,</span> <span class="s1">&#39;AVE_DSM&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">nasa_stats</span> <span class="o">=</span> <span class="nx">imgStats</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">,</span> <span class="nx">boundary</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">srtm_stats</span> <span class="o">=</span> <span class="nx">imgStats</span><span class="p">(</span><span class="nx">srtm</span><span class="p">,</span> <span class="nx">boundary</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This will call the <code class="docutils literal notranslate"><span class="pre">imgStats</span></code> function defined at the top of the script, and calculate the median, mean, standard deviation, and minimum and
maximum elevation values in each of the different DEMs. Uncomment the next lines:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// print the statistics to the console</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;ALOS Stats:&#39;</span><span class="p">,</span> <span class="nx">alos_stats</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;NASADEM Stats:&#39;</span><span class="p">,</span> <span class="nx">nasa_stats</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;SRTM Stats:&#39;</span><span class="p">,</span> <span class="nx">srtm_stats</span><span class="p">);</span>
</pre></div>
</div>
<p>This will print the stats to the console. When you run the script now, you should see this in the console:</p>
<a class="reference internal image-reference" href="../../../_images/console2.png"><img alt="the console panel after running step 2 of the script." class="align-center" src="../../../_images/console2.png" style="width: 400px;" /></a>
<p>You can click the arrow next to each Object to expand it and see the results:</p>
<a class="reference internal image-reference" href="../../../_images/printed_stats.png"><img alt="the stats printed to the console panel" class="align-center" src="../../../_images/printed_stats.png" style="width: 400px;" /></a>
<p>Expand the stats for each of the DEMs. What do you notice about them – are there differences? Why do you think this might be?
Post your thoughts in the discussion forum on Blackboard.</p>
<p>Finally, uncomment the last block of code in this section to export the SRTM image:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">Export</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">toDrive</span><span class="p">({</span><span class="nx">image</span><span class="o">:</span> <span class="nx">srtm</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s1">&#39;elevation&#39;</span><span class="p">),</span>
  <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;MtStHelens_SRTM&#39;</span><span class="p">,</span>
  <span class="nx">scale</span><span class="o">:</span> <span class="mf">30</span><span class="p">,</span>
  <span class="nx">region</span><span class="o">:</span> <span class="nx">boundary</span><span class="p">,</span>
  <span class="nx">crs</span><span class="o">:</span> <span class="s1">&#39;epsg:32610&#39;</span><span class="p">,</span>
  <span class="nx">maxPixels</span><span class="o">:</span> <span class="mf">1e12</span>
<span class="p">});</span>
</pre></div>
</div>
<p>This will create a task to the SRTM elevation at 30 m resolution to a raster called MtStHelens_SRTM.tif, using a CRS with EPSG
code 32610 (corresponding to WGS84 UTM Zone 10N). You should notice that the Tasks tab is highlighted:</p>
<a class="reference internal image-reference" href="../../../_images/tasks.png"><img alt="the console showing the tasks tab highlighted" class="align-center" src="../../../_images/tasks.png" style="width: 400px;" /></a>
<p>When you click on it, you should see this:</p>
<a class="reference internal image-reference" href="../../../_images/new_task.png"><img alt="the tasks tab" class="align-center" src="../../../_images/new_task.png" style="width: 400px;" /></a>
<p>Click <strong>RUN</strong> to export the file to your Google Drive. In the window that opens up, you can choose a different folder, resolution, or
place to export it. In general, running the task might take some time, depending on the size of the image. You can click the
‘Refresh’ button to check the status to see if it’s finished running.</p>
</div>
<div class="section" id="step-3-band-maths-and-charts">
<h2>step 3. band maths and charts<a class="headerlink" href="#step-3-band-maths-and-charts" title="Permalink to this headline"></a></h2>
<p>In addition to displaying images and calculating statistics, we can also perform different calculations with images, such as
differencing them or calculating ratios. The first line in this section will subtract the NASADEM from the SRTM, and cast the
output as a floating point (decimal) value:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// subtract the NASADEM from the SRTM, and cast the output as a floating point (decimal)</span>
<span class="kd">var</span> <span class="nx">nasa_srtm</span> <span class="o">=</span> <span class="nx">srtm</span><span class="p">.</span><span class="kr">float</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="nx">nasadem</span><span class="p">);</span>
</pre></div>
</div>
<p>To visualize this, we can create a chart of the differences directly within GEE. There are a number of different options; for a DEM
difference, a histogram seems like the appropriate choice:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">hist</span> <span class="o">=</span> <span class="nx">ui</span><span class="p">.</span><span class="nx">Chart</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">histogram</span><span class="p">({</span><span class="nx">image</span><span class="o">:</span> <span class="nx">nasa_srtm</span><span class="p">,</span>
  <span class="nx">region</span><span class="o">:</span> <span class="nx">boundary</span><span class="p">,</span>
  <span class="nx">scale</span><span class="o">:</span> <span class="mf">30</span><span class="p">,</span>
  <span class="nx">maxBuckets</span><span class="o">:</span> <span class="mf">256</span><span class="p">,</span>
  <span class="nx">maxPixels</span><span class="o">:</span> <span class="mf">1e9</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span>
    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Difference between SRTM and NASADEM elevation&#39;</span><span class="p">,</span>
    <span class="nx">hAxis</span><span class="o">:</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;elevation difference (m)&#39;</span><span class="p">,</span> <span class="nx">titleTextStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">italic</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">bold</span><span class="o">:</span> <span class="kc">true</span><span class="p">}},</span>
    <span class="nx">vAxis</span><span class="o">:</span> <span class="p">{</span><span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;number of pixels&#39;</span><span class="p">,</span> <span class="nx">titleTextStyle</span><span class="o">:</span> <span class="p">{</span><span class="nx">italic</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">bold</span><span class="o">:</span> <span class="kc">true</span><span class="p">}}</span>
  <span class="p">});</span>
</pre></div>
</div>
<p>This will calculate a histogram of the elevation differences with up to 256 bins. Finally, we can print the chart to the console,
calculate statistics of the differences between the DEMs, and run the nmad() function defined earlier. Uncomment the last few
lines in this section, then run the code:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">print</span><span class="p">(</span><span class="nx">hist</span><span class="p">);</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;dH statistics: &#39;</span><span class="p">,</span> <span class="nx">imgStats</span><span class="p">(</span><span class="nx">nasa_srtm</span><span class="p">,</span> <span class="nx">boundary</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">));</span>
<span class="nx">print</span><span class="p">(</span><span class="s1">&#39;NMAD: &#39;</span><span class="p">,</span> <span class="nx">nmad</span><span class="p">(</span><span class="nx">nasa_srtm</span><span class="p">,</span> <span class="nx">boundary</span><span class="p">,</span> <span class="s1">&#39;elevation&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>You should see the following in the console:</p>
<a class="reference internal image-reference" href="../../../_images/histogram1.png"><img alt="the histogram showing the differences between the NASADEM and the SRTM DEM." class="align-center" src="../../../_images/histogram1.png" style="width: 600px;" /></a>
<p>If you click the symbol in the upper right corner of the histogram, it will open in a new browser window. On this page, you can
also download a csv file with the values in the plot, or a Scalable Vector Graphics (SVG) or PNG version of the chart.
Look at the statistics of the DEM differences – what do you notice about the differences? Based on the histogram that you see,
is the standard deviation an appropriate metric to describe the variation in the data? Again, post any thoughts/questions you
have to the discussion board.</p>
</div>
<div class="section" id="step-4-search-all-of-the-images-make-an-animated-gif">
<h2>step 4. search all of the images, make an animated gif<a class="headerlink" href="#step-4-search-all-of-the-images-make-an-animated-gif" title="Permalink to this headline"></a></h2>
<p>In the last part of the practical, we’ll gather all of the cloud-free Landsat images over Mt St Helens, and make an animated gif
showing the changes over time. Because we’re using all of the different Landsat sensors (MSS, TM, ETM+, and OLI), we’ll use a
near-infrared false colour composite for consistency.
The first lines in this section set the visualization parameters for the MSS scenes and the other sensors:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// set visualization parameters for the MSS scenes</span>
<span class="kd">var</span> <span class="nx">mssVisParams</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;B6&#39;</span><span class="p">,</span> <span class="s1">&#39;B5&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">],</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">10</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">120</span><span class="p">,</span>
  <span class="nx">gamma</span><span class="o">:</span> <span class="mf">1.5</span>
<span class="p">};</span>

<span class="c1">// set visualization parameters for all of the other sensors</span>
<span class="kd">var</span> <span class="nx">srVisParams</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bands</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B2&#39;</span><span class="p">],</span>
  <span class="nx">min</span><span class="o">:</span> <span class="mf">0</span><span class="p">,</span>
  <span class="nx">max</span><span class="o">:</span> <span class="mf">5000</span><span class="p">,</span>
  <span class="nx">gamma</span><span class="o">:</span> <span class="mf">1.25</span>
<span class="p">};</span>
</pre></div>
</div>
<p>When we create the animated gif at the end of the script, this will tell the computer how to display them in the output gif. The
next lines will select all cloud-free MSS scenes that have an acceptable geometric accuracy (&lt;25 m error) :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">mss</span> <span class="o">=</span> <span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM01/C01/T1&quot;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM01/C01/T2&quot;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM02/C01/T1&quot;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM02/C01/T2&quot;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM03/C01/T1&quot;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s2">&quot;LANDSAT/LM03/C01/T2&quot;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;CLOUD_COVER&#39;</span><span class="p">,</span> <span class="s1">&#39;equals&#39;</span><span class="p">,</span> <span class="mf">0</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">or</span><span class="p">(</span>
    <span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;DATA_TYPE&#39;</span><span class="p">,</span> <span class="s1">&#39;L1TP&#39;</span><span class="p">),</span>
    <span class="nx">ee</span><span class="p">.</span><span class="nx">Filter</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="s1">&#39;DATA_TYPE&#39;</span><span class="p">,</span> <span class="s1">&#39;L1GT&#39;</span><span class="p">)))</span> <span class="c1">// only use L1TP and L1GT images</span>
  <span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;GEOMETRIC_RMSE_MODEL&#39;</span><span class="p">,</span> <span class="s1">&#39;less_than&#39;</span><span class="p">,</span> <span class="mf">25</span><span class="p">)</span> <span class="c1">// remove any large-distortions</span>
  <span class="p">.</span><span class="nx">filterMetadata</span><span class="p">(</span><span class="s1">&#39;WRS_ROW&#39;</span><span class="p">,</span> <span class="s1">&#39;equals&#39;</span><span class="p">,</span> <span class="mf">28</span><span class="p">)</span> <span class="c1">// select only WRS row 28 images</span>
  <span class="p">.</span><span class="nx">filterBounds</span><span class="p">(</span><span class="nx">boundary</span><span class="p">).</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B[4-6]&#39;</span><span class="p">]);</span> <span class="c1">// select bands 4, 5, and 6.</span>
</pre></div>
</div>
<p>The next block of lines will repeat this for Landsat 5 TM and Landsat 7 ETM+ scenes, then select only cloud-free Landsat 8
scenes. Once we have lists for each of these sensors, we’ll merge the results and sort them:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// sort the MSS scenes by acquisition time.</span>
<span class="kd">var</span> <span class="nx">mssSorted</span> <span class="o">=</span> <span class="nx">mss</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;system:time_start&#39;</span><span class="p">);</span>

<span class="c1">// merge and sort the other Landsat scenes.</span>
<span class="kd">var</span> <span class="nx">landsatSorted</span> <span class="o">=</span> <span class="nx">lt05</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">le07</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">mosaicByDate</span><span class="p">(</span><span class="nx">lc08</span><span class="p">.</span><span class="nx">select</span><span class="p">([</span><span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">,</span> <span class="s1">&#39;B5&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;B2&#39;</span><span class="p">,</span> <span class="s1">&#39;B3&#39;</span><span class="p">,</span> <span class="s1">&#39;B4&#39;</span><span class="p">]),</span> <span class="s1">&#39;LC08&#39;</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">&#39;system:time_start&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>After we have the images sorted, we can create the visualization images and merge the two collections into one:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// make RGB images to display for each of the MSS scenes</span>
<span class="kd">var</span> <span class="nx">mssVis</span> <span class="o">=</span> <span class="nx">mssSorted</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">img</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">img</span><span class="p">.</span><span class="nx">visualize</span><span class="p">(</span><span class="nx">mssVisParams</span><span class="p">).</span><span class="nx">clip</span><span class="p">(</span><span class="nx">boundary</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// make RGB images to display for each of the other sensors</span>
<span class="kd">var</span> <span class="nx">landsatVis</span> <span class="o">=</span> <span class="nx">landsatSorted</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">img</span><span class="p">){</span>
  <span class="k">return</span> <span class="nx">img</span><span class="p">.</span><span class="nx">visualize</span><span class="p">(</span><span class="nx">srVisParams</span><span class="p">).</span><span class="nx">clip</span><span class="p">(</span><span class="nx">gifBoundary</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// now, merge the MSS and other sensors.</span>
<span class="kd">var</span> <span class="nx">visAll</span> <span class="o">=</span> <span class="nx">mssVis</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">landsatVis</span><span class="p">);</span>
</pre></div>
</div>
<p>Finally, we’ll set the parameters for the animated gif and create a link to trigger processing for the gif. This will make a gif that is
scaled so that the longest dimension is 425 pixels. The images will be cropped to the gifBoundary polygon defined at the top of
the script, and displayed using a pseudo-Mercator projection (EPSG:3857), which is the same one used by Google Maps.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">gifParams</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;region&#39;</span><span class="o">:</span> <span class="nx">gifBoundary</span><span class="p">,</span>
  <span class="s1">&#39;dimensions&#39;</span><span class="o">:</span> <span class="mf">425</span><span class="p">,</span>
  <span class="s1">&#39;crs&#39;</span><span class="o">:</span> <span class="s1">&#39;EPSG:3857&#39;</span><span class="p">,</span>
  <span class="s1">&#39;framesPerSecond&#39;</span><span class="o">:</span> <span class="mf">3</span>
<span class="p">};</span>

<span class="c1">// print a URL to start processing the gif.</span>
<span class="nx">print</span><span class="p">(</span><span class="nx">visAll</span><span class="p">.</span><span class="nx">getVideoThumbURL</span><span class="p">(</span><span class="nx">gifParams</span><span class="p">));</span>
</pre></div>
</div>
<p>At this time, you can run the script one final time. In the console, you should see a link at the bottom:</p>
<a class="reference internal image-reference" href="../../../_images/console_link.png"><img alt="the link to the animated gif, printed to the console" class="align-center" src="../../../_images/console_link.png" style="width: 400px;" /></a>
<p>Click this link to create the gif. Once it finishes processing and loads the gif, you can download the gif by right-clicking the image
and clicking ‘save’.</p>
<p>Watch the gif – what changes do you see? You should see a number of different things happen, including the
initial 1980 eruption, as well as subsequent eruptions. By the end of the gif, you should see that a great deal of vegetation has
started to recover. In next week’s practical, we’ll work on additional analyses using GEE, including change analysis and plotting
time series of values.</p>
</div>
<div class="section" id="references">
<h2>references<a class="headerlink" href="#references" title="Permalink to this headline"></a></h2>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Gorelick, N., M. Hancher, M. Dixon, S. Ilyushchenko, D. Thau, and R. Moore (2017). Google Earth Engine: Planetary-scale geospatial analysis for everyone. <em>Rem. Sens. Env.</em> 202, 18-27. doi: <a class="reference external" href="https://doi.org/10.1016/j.rse.2017.06.031">10.1016/j.rse.2017.06.031</a></p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="week2.html" class="btn btn-neutral float-left" title="week 2 - dem differencing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="week4.html" class="btn btn-neutral float-right" title="week 4 - change detection in earth engine" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Bob McNabb.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>